# Test info

- Name: Dashboard Access >> @ID_C184322 Dashboard access available
- Location: D:\projects\FVR\actions-runner\_work\playwright-tests\playwright-tests\src\tests\total-product\ main-total-product-cycle\boot-checks\dashboard-access.spec.ts:21:9

# Error details

```
Error: expect(received).toBeTruthy()

Received: undefined

Call Log:
- Timeout 15000ms exceeded while waiting on the predicate
    at Function.expectToPass (D:\projects\FVR\actions-runner\_work\playwright-tests\playwright-tests\src\core\utils\assert-utils.ts:69:28)
    at D:\projects\FVR\actions-runner\_work\playwright-tests\playwright-tests\src\tests\total-product\ main-total-product-cycle\boot-checks\dashboard-access.spec.ts:31:26
```

# Test source

```ts
   1 | /**
   2 |  * assert-utils.ts: This module contains utility functions for assertions in tests.
   3 |  * All expect assertions will dynamically wait until either the expect timeout specified in the
   4 |  * playwright.config is reached or the condition becomes true.
   5 |  * @module AssertUtils
   6 |  */
   7 |
   8 | import {Expect, expect, Locator, test, TestInfo} from '@playwright/test';
   9 | import pdfParse from 'pdf-parse';
   10 | import {ExpectOptions, ExpectTextOptions, MessageAsOptions, ScreenshotOptions, SoftOption, StrictCheckOptions, TimeoutOption} from './optional-parameter-types';
   11 | import {getLocator} from './locator-utils';
   12 | import {getPage} from './page-utils';
   13 | import {APIResponse} from 'playwright';
   14 | import {BaseElement} from '../common-components/base-element';
   15 | import {SMALL_TIMEOUT} from './timeout-constants';
   16 |
   17 | /**
   18 |  * Returns an Expect object configured with the given soft option.
   19 |  * @param {SoftOption} options - The soft option to configure the Expect object with.
   20 |  * @returns {Expect} - The configured Expect object.
   21 |  */
   22 | function getExpectWithSoftOption(options?: SoftOption): Expect {
   23 |     return expect.configure({soft: options?.soft});
   24 | }
   25 |
   26 | /**
   27 |  * Returns a Locator object and an Expect object configured with the given soft option.
   28 |  * @param {string | Locator} input - Either a string (selector) or a Locator object.
   29 |  * @param {SoftOption} options - The soft option to configure the Expect object with.
   30 |  * @returns {Object} - An object containing the Locator and Expect objects.
   31 |  */
   32 | function getLocatorAndAssert(input: string | Locator | BaseElement, options?: SoftOption): {
   33 |     locator: Locator; assert: Expect;
   34 | } {
   35 |     const locator = input instanceof BaseElement ? input.locator : getLocator(input);
   36 |     const assert = getExpectWithSoftOption(options);
   37 |     return {locator, assert};
   38 | }
   39 |
   40 | /**
   41 |  * Use this function to assert all the soft assertions.
   42 |  * @param {TestInfo} testInfo - The TestInfo object containing the test's information.
   43 |  */
   44 | export function assertAllSoftAssertions(testInfo: TestInfo) {
   45 |     expect(testInfo.errors).toHaveLength(0);
   46 | }
   47 |
   48 | export class AssertUtil {
   49 |     /**
   50 |      * Calls a function and asserts that it passes within a specified timeout.
   51 |      *
   52 |      * @param {Function} func - The function to call.
   53 |      * @param {number} timeout - The timeout in milliseconds.
   54 |      * @param {Array<number>} [intervals] - An array of intervals in milliseconds to use for assertion polling (optional).
   55 |      * @param {Object} [options] - Additional options for assertion (optional).
   56 |      *
   57 |      * Usage example:
   58 |      *
   59 |      *         await AssertUtil.expectToPass(async () => {
   60 |      *             let response: APIResponse = await getCurrentStageRequest.getGetCurrentStage(applicationId);
   61 |      *             await APIAssertions.checkStatus(response, 200)
   62 |      *             await APIAssertions.checkResponseValues(response, expectedValues)
   63 |      *         }, 5_000)
   64 |      *
   65 |      * @returns {Promise<void>} - A Promise that resolves when the function passes the assertion.
   66 |      */
   67 |     static async expectToPass(func: () => Promise<void>, timeout: number, intervals?: Array<number>, options?: ExpectOptions): Promise<void> {
   68 |         const assert = getExpectWithSoftOption(options);
>  69 |         await assert(func).toPass({
      |                            ^ Error: expect(received).toBeTruthy()
   70 |             timeout: timeout, intervals: intervals
   71 |         });
   72 |     }
   73 | }
   74 |
   75 | function prepareOptionsErrorMessage(options: (TimeoutOption & SoftOption & MessageAsOptions) | undefined, errorMessage: string) {
   76 |     if (options == undefined) {
   77 |         options = {};
   78 |     }
   79 |     if (options.message === undefined) {
   80 |         options.message = errorMessage;
   81 |     } else {
   82 |         options.message = `${options.message} \n ${errorMessage} `;
   83 |     }
   84 |     return options;
   85 | }
   86 |
   87 | //region Locator Assertions
   88 | /**
   89 |  * 1. Locator Assertions: This section contains functions that perform assertions on specific locators.
   90 |  * These functions check for various conditions such as visibility, presence in the DOM, text content, etc.
   91 |  */
   92 | export class ElementAssertions {
   93 |     /**
   94 |      * Asserts that the given element is not present in the DOM or is Hidden.
   95 |      * @param {string | Locator} input - Either a string (selector) or a Locator object.
   96 |      * @param {ExpectOptions} options - The options to pass to the expect function.
   97 |      */
   98 |     public static async expectElementToBeHidden(input: string | Locator | BaseElement, options?: ExpectOptions): Promise<void> {
   99 |         await test.step(`Check that '${(input as BaseElement).name}' element is hidden`, async () => {
  100 |             const {locator, assert} = getLocatorAndAssert(input, options);
  101 |             await assert(locator, options).toBeHidden(options);
  102 |         });
  103 |     }
  104 |
  105 |     /**
  106 |      * Asserts that the given element is present in the DOM and visible.
  107 |      * @param {string | Locator} input - Either a string (selector) or a Locator object.
  108 |      * @param {ExpectOptions} options - The options to pass to the expect function.
  109 |      */
  110 |     public static async expectElementToBeVisible(input: string | Locator | BaseElement, options?: ExpectOptions): Promise<void> {
  111 |         await test.step(`Check that '${(input as BaseElement).name}' element is visible`, async () => {
  112 |             const {locator, assert} = getLocatorAndAssert(input, options);
  113 |             if (input instanceof BaseElement) {
  114 |                 options = prepareOptionsErrorMessage(options, `Element ${input.name ? 'name=\'' + input.name : 'lctr=\'' + input.locator}' is not visible`);
  115 |             }
  116 |             await assert(locator, options).toBeVisible(options);
  117 |         });
  118 |     }
  119 |
  120 |     /**
  121 |      * Asserts that the inner HTML for given element is equal to expected.
  122 |      * @param {string | Locator} input - Either a string (selector) or a Locator object.
  123 |      * @param expectedInnerElements
  124 |      * @param {ExpectOptions} options - The options to pass to the expect function.
  125 |      */
  126 |     public static async expectElementToInnerHtml(input: string | Locator | BaseElement, expectedInnerElements: string, options?: ExpectOptions): Promise<void> {
  127 |         await test.step(`Check that '${(input as BaseElement).name}' inner html equals '${expectedInnerElements}'`, async () => {
  128 |             if (input instanceof BaseElement) {
  129 |                 options = prepareOptionsErrorMessage(options, `Element '${(input as BaseElement).name}' inner html is not equal to expected`);
  130 |             }
  131 |             const {locator, assert} = getLocatorAndAssert(input, options);
  132 |             const actualInnerHtml = await locator.innerHTML();
  133 |             assert(actualInnerHtml, options).toBe(expectedInnerElements);
  134 |         });
  135 |     }
  136 |
  137 |     /**
  138 |      * Asserts that the screenshot is equal to expected.
  139 |      * @param {string | Locator} input - Either a string (selector) or a Locator object.
  140 |      * @param {ExpectOptions} options - The options to pass to the expect function.
  141 |      * @param {string} screenshotName - Name of screenshot.
  142 |      *
  143 |      * Usage example:
  144 |      *
  145 |      * await expectElementToScreenshot(logoElement(), 'expected-logo.png', {soft: true});
  146 |      *
  147 |      * Update `playwright.config.ts` to store snapshots in a custom directory:
  148 |      * example:
  149 |      *  snapshotPathTemplate: './src/test-data/{arg}-{platform}{ext}'
  150 |      */
  151 |     public static async expectElementToScreenshot(input: string | Locator | BaseElement, screenshotName: string, options?: ExpectOptions & ScreenshotOptions): Promise<void> {
  152 |         await test.step(`Check that '${(input as BaseElement).name}' screenshot equals to '${screenshotName}'`, async () => {
  153 |             if (input instanceof BaseElement) {
  154 |                 options = prepareOptionsErrorMessage(options, `Element '${(input as BaseElement).name}' screenshot is not equal to expected`);
  155 |             }
  156 |             const {locator, assert} = getLocatorAndAssert(input, options);
  157 |             await AssertUtil.expectToPass(async () => {
  158 |                 await assert(locator).toHaveScreenshot(screenshotName, options);
  159 |             }, options?.timeout ?? SMALL_TIMEOUT);
  160 |         });
  161 |     }
  162 |
  163 |     /**
  164 |      * Asserts that the given element is present in the DOM.
  165 |      * @param {string | Locator} input - Either a string (selector) or a Locator object.
  166 |      * @param {ExpectOptions} options - The options to pass to the expect function.
  167 |      */
  168 |     public static async expectElementToBeAttached(input: string | Locator | BaseElement, options?: ExpectOptions): Promise<void> {
  169 |         await test.step(`Check that '${(input as BaseElement).name}' element is attached to DOM`, async () => {
```